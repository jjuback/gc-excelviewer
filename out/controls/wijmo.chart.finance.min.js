/*!
    *
    * Wijmo Library 5.20201.664
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var wijmo,__extends=this&&this.__extends||function(){var extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};return function(t,e){extendStatics(t,e);function __(){this.constructor=t}t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}}();!function(t){!function(e){!function(e){"use strict";var i=function(i){__extends(FinancialSeries,i);function FinancialSeries(){return null!==i&&i.apply(this,arguments)||this}Object.defineProperty(FinancialSeries.prototype,"chartType",{get:function(){return this._finChartType},set:function(i){if((i=t.asEnum(i,e.FinancialChartType,!0))!=this._finChartType){this._finChartType=i;this._invalidate()}},enumerable:!0,configurable:!0});FinancialSeries.prototype._getChartType=function(){var i=null;switch(this.chartType){case e.FinancialChartType.Area:i=t.chart.ChartType.Area;break;case e.FinancialChartType.Line:case e.FinancialChartType.Kagi:case e.FinancialChartType.PointAndFigure:i=t.chart.ChartType.Line;break;case e.FinancialChartType.Column:case e.FinancialChartType.ColumnVolume:i=t.chart.ChartType.Column;break;case e.FinancialChartType.LineSymbols:i=t.chart.ChartType.LineSymbols;break;case e.FinancialChartType.Scatter:i=t.chart.ChartType.Scatter;break;case e.FinancialChartType.Candlestick:case e.FinancialChartType.Renko:case e.FinancialChartType.HeikinAshi:case e.FinancialChartType.LineBreak:case e.FinancialChartType.EquiVolume:case e.FinancialChartType.CandleVolume:case e.FinancialChartType.ArmsCandleVolume:i=t.chart.ChartType.Candlestick;break;case e.FinancialChartType.HighLowOpenClose:i=t.chart.ChartType.HighLowOpenClose}return i};FinancialSeries.prototype.getDataRect=function(e,i){if(i)return i;var a=this.getValues(0),n=this.getValues(1)||(this.chart._xvals&&this.chart._xvals.length?this.chart._xvals:null),r=this._getBinding(0),s=this._getBinding(1),o=this._getBinding(2),l=this._getBinding(3),h=(this._plotter,this._getChartType()||this.chart._getChartType());if(h!==t.chart.ChartType.HighLowOpenClose&&h!==t.chart.ChartType.Candlestick||r===s)return null;if(a){for(var c=NaN,u=NaN,_=NaN,g=NaN,p=a.length,f=0;f<p;f++){var d=this._getItem(f),m=a[f];if(isFinite(m)){[m,s?d[s]:null,o?d[o]:null,l?d[l]:null].forEach((function(e){if(t.chart._DataInfo.isValid(e)&&null!==e){(isNaN(u)||e<u)&&(u=e);(isNaN(g)||e>g)&&(g=e)}}))}if(n){var y=n[f];isFinite(y)&&(isNaN(c)?c=_=y:y<c?c=y:y>_&&(_=y))}}if(!n){c=0;_=p-1}if(!isNaN(u))return new t.Rect(c,u,_-c,g-u)}return null};return FinancialSeries}(t.chart.SeriesBase);e.FinancialSeries=i}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){!function(e){"use strict";e._trunc=function _trunc(e){t.asNumber(e,!0,!1);return e>0?Math.floor(e):Math.ceil(e)};function _sum(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments));t.asArray(e,!1);return e.reduce((function(e,i){return e+t.asNumber(i)}),0)}e._sum=_sum;function _average(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments));t.asArray(e,!1);return _sum(e)/e.length}e._average=_average;e._minimum=function _minimum(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments));t.asArray(e,!1);return Math.min.apply(null,e)};e._maximum=function _maximum(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments));t.asArray(e,!1);return Math.max.apply(null,e)};function _variance(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments));t.asArray(e,!1);var i=_average(e);return _average(e.map((function(t){return Math.pow(t-i,2)})))}e._variance=_variance;e._stdDeviation=function _stdDeviation(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments));t.asArray(e,!1);return Math.sqrt(_variance(e))};e._avgTrueRng=function _avgTrueRng(e,i,a,n){void 0===n&&(n=14);t.asArray(e,!1);t.asArray(i,!1);t.asArray(a,!1);t.asInt(n,!1,!0);var r=_trueRng(e,i,a,n),s=Math.min(e.length,i.length,a.length,r.length),o=[];t.assert(s>n&&n>1,"Average True Range period must be an integer less than the length of the data and greater than one.");for(var l=0;l<s;l++){t.asNumber(e[l],!1);t.asNumber(i[l],!1);t.asNumber(a[l],!1);t.asNumber(r[l],!1);l+1===n?o.push(_average(r.slice(0,n))):l+1>n&&o.push(((n-1)*o[o.length-1]+r[l])/n)}return o};function _trueRng(e,i,a,n){void 0===n&&(n=14);t.asArray(e,!1);t.asArray(i,!1);t.asArray(a,!1);t.asInt(n,!1,!0);var r=Math.min(e.length,i.length,a.length),s=[];t.assert(r>n&&n>1,"True Range period must be an integer less than the length of the data and greater than one.");for(var o=0;o<r;o++){t.asNumber(e[o],!1);t.asNumber(i[o],!1);t.asNumber(a[o],!1);0===o?s.push(e[o]-i[o]):s.push(Math.max(e[o]-i[o],Math.abs(e[o]-a[o-1]),Math.abs(i[o]-a[o-1])))}return s}e._trueRng=_trueRng;function _sma(e,i){t.asArray(e,!1);t.asNumber(i,!1,!0);t.assert(e.length>i&&i>1,"Simple Moving Average period must be an integer less than the length of the data and greater than one.");for(var a=[],n=i;n<=e.length;n++)a.push(_average(e.slice(n-i,n)));return a}e._sma=_sma;e._ema=function _ema(e,i){t.asArray(e,!1);t.asNumber(i,!1,!0);t.assert(e.length>i&&i>1,"Exponential Moving Average period must be an integer less than the length of the data and greater than one.");var a=[],n=2/(i+1),r=_sma(e,i);e=e.slice(i-1);for(var s=0;s<e.length;s++)0===s?a.push(r[0]):a.push((e[s]-a[s-1])*n+a[s-1]);return a};e._range=function _range(e,i,a){void 0===a&&(a=1);t.asNumber(e,!1);t.asNumber(i,!1);t.asNumber(a,!1);t.assert(e<i,"begin argument must be less than end argument.");for(var n=[],r=e;r<=i;r+=a)n.push(r);return n}}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(t){!function(t){"use strict";var e=function(){function _BaseCalculator(t,e,i,a){this.highs=t;this.lows=e;this.opens=i;this.closes=a}_BaseCalculator.prototype.calculate=function(){};return _BaseCalculator}();t._BaseCalculator=e;var i=function(e){__extends(_HeikinAshiCalculator,e);function _HeikinAshiCalculator(t,i,a,n){return e.call(this,t,i,a,n)||this}_HeikinAshiCalculator.prototype.calculate=function(){var e,i,a,n,r=Math.min(this.highs.length,this.lows.length,this.opens.length,this.closes.length),s=[];if(r<=0)return s;for(var o=0;o<r;o++){n=t._average(this.highs[o],this.lows[o],this.opens[o],this.closes[o]);if(0===o){a=t._average(this.opens[o],this.closes[o]);e=this.highs[o];i=this.lows[o]}else{a=t._average(s[o-1].open,s[o-1].close);e=Math.max(this.highs[o],a,n);i=Math.min(this.lows[o],a,n)}s.push({high:e,low:i,close:n,open:a,pointIndex:o,x:null})}return s};return _HeikinAshiCalculator}(e);t._HeikinAshiCalculator=i;var a=function(e){__extends(_BaseRangeCalculator,e);function _BaseRangeCalculator(t,i,a,n,r,s,o,l){var h=e.call(this,t,i,a,n)||this;h.xs=r;h.size=s;h.unit=o;h.fields=l;return h}_BaseRangeCalculator.prototype._getValues=function(){var e,i=[],a=Math.min(this.highs.length,this.lows.length,this.opens.length,this.closes.length);switch(this.fields){case t.DataFields.High:i=this.highs;break;case t.DataFields.Low:i=this.lows;break;case t.DataFields.Open:i=this.opens;break;case t.DataFields.HL2:for(e=0;e<a;e++)i.push(t._average(this.highs[e],this.lows[e]));break;case t.DataFields.HLC3:for(e=0;e<a;e++)i.push(t._average(this.highs[e],this.lows[e],this.closes[e]));break;case t.DataFields.HLOC4:for(e=0;e<a;e++)i.push(t._average(this.highs[e],this.lows[e],this.opens[e],this.closes[e]));break;case t.DataFields.Close:default:i=this.closes}return i};_BaseRangeCalculator.prototype._getSize=function(){var e=this.unit===t.RangeMode.ATR?t._avgTrueRng(this.highs,this.lows,this.closes,this.size):null;return this.unit===t.RangeMode.ATR?e[e.length-1]:this.size};return _BaseRangeCalculator}(e);t._BaseRangeCalculator=a;var n=function(t){__extends(_LineBreakCalculator,t);function _LineBreakCalculator(e,i,a,n,r,s){return t.call(this,e,i,a,n,r,s)||this}_LineBreakCalculator.prototype.calculate=function(){var t=null!==this.xs&&this.xs.length>0,e=this.closes.length,i=[],a=[[],[]];if(e<=0)return i;for(var n,r,s,o,l,h,c=[],u=1;u<e;u++){o=i.length-1;r=t?this.xs[u]:u;s=this.closes[u];if(-1===o){if((n=this.closes[0])===s)continue}else{c=this._trendExists(a)||1===this.size?a[0].slice(-this.size).concat(a[1].slice(-this.size)):a[0].slice(1-this.size).concat(a[1].slice(1-this.size));l=Math.max.apply(null,c);h=Math.min.apply(null,c);if(s>l)n=Math.max(a[0][o],a[1][o]);else{if(!(s<h))continue;n=Math.min(a[0][o],a[1][o])}}a[0].push(n);a[1].push(s);i.push({high:Math.max(n,s),low:Math.min(n,s),open:n,close:s,x:r,pointIndex:u})}return i};_LineBreakCalculator.prototype._trendExists=function(t){if(t[1].length<this.size)return!1;var e,i=!1,a=t[1].slice(-this.size);for(e=1;e<this.size&&(i=a[e]>a[e-1]);e++);if(!i)for(e=1;e<this.size&&(i=a[e]<a[e-1]);e++);return i};return _LineBreakCalculator}(a);t._LineBreakCalculator=n;var r=function(e){__extends(_KagiCalculator,e);function _KagiCalculator(t,i,a,n,r,s,o,l){return e.call(this,t,i,a,n,r,s,o,l)||this}_KagiCalculator.prototype.calculate=function(){var e,i,a,n,r,s,o,l,h,c=this._getSize(),u=Math.min(this.highs.length,this.lows.length,this.opens.length,this.closes.length),_=this._getValues(),g=null!==this.xs&&this.xs.length>0,p=[],f=[[],[]];if(u<=0)return p;for(var d=1;d<u;d++){n=p.length-1;i=g?this.xs[d]:d;h=d;l=!1;if(this.fields===t.DataFields.HighLow)if(-1===n)if(this.highs[d]>this.highs[0])a=this.highs[d];else{if(!(this.lows[d]<this.lows[0]))continue;a=this.lows[d]}else if((o=f[1][n]-f[0][n])>0)if(this.highs[d]>f[1][n])a=this.highs[d];else{if(!(this.lows[d]<f[1][n]))continue;a=this.lows[d]}else if(this.lows[d]<f[1][n])a=this.lows[d];else{if(!(this.highs[d]>f[1][n]))continue;a=this.highs[d]}else a=_[d];this.unit===t.RangeMode.Percentage&&(c=a*this.size);if(-1===n){i=g?this.xs[0]:0;h=0;e=this.fields===t.DataFields.HighLow?null==this.highs[0]?this.highs[this.highs.length-1]:this.highs[0]:null==_[0]?_[_.length-1]:_[0];if((o=Math.abs(e-a)||0)<c)continue}else{o=f[1][n]-f[0][n];s=Math.max(f[0][n],f[1][n]);r=Math.min(f[0][n],f[1][n]);if(o>0)if(a>s)l=!0;else{if(!((o=s-a)>=c))continue;e=s}else if(a<r)l=!0;else{if(!((o=a-r)>=c))continue;e=r}}if(l){f[1][n]=a;p[n].close=a;p[n].high=Math.max(p[n].open,p[n].close);p[n].low=Math.min(p[n].open,p[n].close)}else{f[0].push(e);f[1].push(a);p.push({high:Math.max(e,a),low:Math.min(e,a),open:e,close:a,x:i,pointIndex:h})}}return p};return _KagiCalculator}(a);t._KagiCalculator=r;var s=function(e){__extends(_RenkoCalculator,e);function _RenkoCalculator(t,i,a,n,r,s,o,l,h){void 0===h&&(h=!1);var c=e.call(this,t,i,a,n,r,s,o,l)||this;c.rounding=h;return c}_RenkoCalculator.prototype.calculate=function(){var e,i,a,n,r,s,o,l=this._getSize(),h=Math.min(this.highs.length,this.lows.length,this.opens.length,this.closes.length),c=null!==this.xs&&this.xs.length>0,u=this._getValues(),_=[],g=[[],[]];if(h<=0)return _;for(var p=1;p<h;p++){n=_.length-1;i=c?this.xs[p]:p;if(this.fields===t.DataFields.HighLow)if(-1===n)if(this.highs[p]-this.highs[0]>l){e=this.highs[0];a=this.highs[p]}else{if(!(this.lows[0]-this.lows[p]>l))continue;e=this.lows[0];a=this.lows[p]}else{r=Math.min(g[0][n],g[1][n]);s=Math.max(g[0][n],g[1][n]);if(this.highs[p]-s>l){e=s;a=this.highs[p]}else{if(!(r-this.lows[p]>l))continue;e=r;a=this.lows[p]}}else{a=u[p];if(-1===n)e=u[0];else{r=Math.min(g[0][n],g[1][n]);if(a>(s=Math.max(g[0][n],g[1][n])))e=s;else{if(!(a<r))continue;e=r}}}o=a-e;if(!(Math.abs(o)<l)){o=t._trunc(o/l);for(var f=0;f<Math.abs(o);f++){var d={};this.rounding&&(e=this._round(e,l));g[0].push(e);d.open=e;e=o>0?e+l:e-l;g[1].push(e);d.close=e;d.x=i;d.pointIndex=p;d.high=Math.max(d.open,d.close);d.low=Math.min(d.open,d.close);_.push(d)}}}return _};_RenkoCalculator.prototype._round=function(t,e){return Math.round(t/e)*e};return _RenkoCalculator}(a);t._RenkoCalculator=s}(t.finance||(t.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){!function(e){"use strict";var i=function(e){__extends(_BaseRangePlotter,e);function _BaseRangePlotter(){var t=e.call(this)||this;t._symFactor=.7;t.clear();return t}_BaseRangePlotter.prototype.clear=function(){e.prototype.clear.call(this);this._rangeValues=null;this._rangeXLabels=null;this._calculator=null};_BaseRangePlotter.prototype.unload=function(){e.prototype.unload.call(this);for(var t,i,a=0;a<this.chart.series.length;a++)(t=this.chart.series[a])&&(i=t._getAxisX())&&i.itemsSource&&(i.itemsSource=null)};_BaseRangePlotter.prototype.adjustLimits=function(e,i){var a,n,r,s=0,o=0,l=0,h=0,c=this.chart._xDataType===t.DataType.Date?.5:0;t.assert(this.chart.series.length<=1,"Current FinancialChartType only supports a single series");for(var u=0;u<this.chart.series.length;u++){a=this.chart.series[u];this._calculate(a);if(!(this._rangeValues.length<=0||this._rangeXLabels.length<=0)){(n=this._rangeValues.map((function(t){return t.open}))).push.apply(n,this._rangeValues.map((function(t){return t.close})));r=this._rangeXLabels.map((function(t){return t.value}));l=Math.min.apply(null,n);h=Math.max.apply(null,n);s=Math.min.apply(null,r);o=Math.max.apply(null,r);a._getAxisX().itemsSource=this._rangeXLabels}}s-=c;return new t.Rect(s,l,o-s+c,h-l)};_BaseRangePlotter.prototype.plotSeries=function(e,i,a,n,r,s,o){var l=this;this._calculate(n);var h=this.chart.series.indexOf(n),c=this._rangeValues.length,u=i.actualMin,_=i.actualMax,g=this._DEFAULT_WIDTH,p=this._symFactor,f=n._getSymbolFill(h),d=n._getAltSymbolFill(h)||"transparent",m=n._getSymbolStroke(h),y=n._getAltSymbolStroke(h)||m;e.strokeWidth=g;for(var v,P,k,x,C=0,w=this.getItemFormatter(n),b=0;b<c;b++){v=b;if(t.chart._DataInfo.isValid(v)&&u<=v&&v<=_){P=this._rangeValues[b].open;k=this._rangeValues[b].close;e.fill=P>k?f:d;e.stroke=P>k?m:y;x=this._getDataPoint(h,b,n,Math.max(P,k));e.startGroup();if(w){var F=new t.chart.HitTestInfo(this.chart,new t.Point(i.convert(v),a.convert(k)),t.chart.ChartElement.SeriesSymbol);F._setData(n,b);F._setDataPoint(x);w(e,F,(function(){l._drawSymbol(e,i,a,h,C,p,v,P,k,x)}))}else this._drawSymbol(e,i,a,h,C,p,v,P,k,x);e.endGroup();n._setPointIndex(b,C);C++}}};_BaseRangePlotter.prototype._drawSymbol=function(e,i,a,n,r,s,o,l,h,c){var u,_,g,p,f;if((g=i.convert(o-.5*s))>(p=i.convert(o+.5*s))){var d=g;g=p;p=d}if(t.chart._DataInfo.isValid(l)&&t.chart._DataInfo.isValid(h)){l=a.convert(l);h=a.convert(h);_=(u=Math.min(l,h))+Math.abs(l-h);e.drawRect(g,u,p-g,_-u);(f=new t.chart._RectArea(new t.Rect(g,u,p-g,_-u))).tag=c;this.hitTester.add(f,n)}};_BaseRangePlotter.prototype._getDataPoint=function(e,i,a,n){var r=i,s=new t.chart._DataPoint(e,i,r,n),o=a._getItem(this._rangeValues[i].pointIndex),l=a.bindingX||this.chart.bindingX,h=a._getBinding(0),c=a._getBinding(1),u=a._getBinding(2),_=a._getBinding(3),g=a._getAxisY();s.item=t.chart._BasePlotter.cloneStyle(o,[]);s.item[h]=this._rangeValues[i].high;s.item[c]=this._rangeValues[i].low;s.item[u]=this._rangeValues[i].open;s.item[_]=this._rangeValues[i].close;s.y=this._rangeValues[i].close;s.yfmt=g._formatValue(this._rangeValues[i].close);s.x=s.item[l];s.xfmt=this._rangeXLabels[i]._text;return s};_BaseRangePlotter.prototype._init=function(){this._rangeValues=[];this._rangeXLabels=[]};_BaseRangePlotter.prototype._calculate=function(t){};_BaseRangePlotter.prototype._generateXLabels=function(e){var i,a=this,n=e._getAxisX(),r=e.getDataType(1)||this.chart._xDataType;this._rangeValues.forEach((function(e,s){var o=e.x;i=r===t.DataType.Date?t.Globalize.format(t.chart.FlexChart._fromOADate(o),n.format||"d"):r===t.DataType.Number?n._formatValue(o):null!==r&&r!==t.DataType.String||!a.chart._xlabels?o.toString():a.chart._xlabels[o];a._rangeXLabels.push({value:s,text:i,_text:i})}),this)};return _BaseRangePlotter}(t.chart._BasePlotter);e._BaseRangePlotter=i;!function(t){t[t.Close=0]="Close";t[t.High=1]="High";t[t.Low=2]="Low";t[t.Open=3]="Open";t[t.HighLow=4]="HighLow";t[t.HL2=5]="HL2";t[t.HLC3=6]="HLC3";t[t.HLOC4=7]="HLOC4"}(e.DataFields||(e.DataFields={}));!function(t){t[t.Fixed=0]="Fixed";t[t.ATR=1]="ATR";t[t.Percentage=2]="Percentage"}(e.RangeMode||(e.RangeMode={}))}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){var e;(function(e){"use strict";var i;!function(t){t[t.Traditional=0]="Traditional";t[t.Fixed=1]="Fixed";t[t.Dynamic=2]="Dynamic"}(i=e.PointAndFigureScaling||(e.PointAndFigureScaling={}));var a=function(a){__extends(_PointAndFigurePlotter,a);function _PointAndFigurePlotter(){return a.call(this)||this}_PointAndFigurePlotter.prototype.clear=function(){a.prototype.clear.call(this);this._boxSize=null;this._fields=null;this._reversal=null;this._scaling=null};_PointAndFigurePlotter.prototype.unload=function(){a.prototype.unload.call(this);this.chart.axisX.itemsSource=this._xlbls};_PointAndFigurePlotter.prototype._init=function(){this._boxSize=this.getNumOption("boxSize","pointAndFigure")||1;this._reversal=this.getNumOption("reversal","pointAndFigure")||3;this._period=this.getNumOption("period","pointAndFigure")||20;this._fields=this.getOption("fields","pointAndFigure")||e.DataFields.Close;this._fields=t.asEnum(this._fields,e.DataFields,!0);t.assert(this._fields==e.DataFields.Close||this._fields==e.DataFields.HighLow,"Only DataFields.Close and DataFields.HighLow are supported");this._scaling=this.getOption("scaling","pointAndFigure")||i.Traditional;this._scaling=t.asEnum(this._scaling,i,!0);this._xlbls=[]};_PointAndFigurePlotter.prototype.adjustLimits=function(i,a){this._init();this.hitTester.clear();var n=new t.Rect(0,0,0,0),r=this.chart.series.length;t.assert(r<=1,"Current FinancialChartType only supports a single series");if(r>0){var s=this.chart.series[0],o=this._reversal,l=s.collectionView?s.collectionView:this.chart.collectionView,h=l?l.items:null;if(h&&h.length>0){var c=s._getBinding(0),u=s._getBinding(1),_=s._getBinding(2),g=s._getBinding(3);if(this._fields==e.DataFields.Close){g?c=g:_&&(c=_);u=c}var p=s.bindingX?s.bindingX:this.chart.bindingX,f=this._actualBoxSize=this.calcBoxSize(h,c,u);this._pfdata=this.calcPFHiLo2(h,c,u,p,f,o);if(this._pfdata&&this._pfdata.length>0){var d=this._pfdata.reduce((function(t,e){return Math.max(t,e.max)}),this._pfdata[0].max),m=this._pfdata.reduce((function(t,e){return Math.min(t,e.min)}),this._pfdata[0].min);n=new t.Rect(-.5,m-.5*f,this._pfdata.length,d-m+f);for(var y=1;y<this._pfdata.length;y++){var v=this._pfdata[y-1],P=this._pfdata[y];t.isDate(P.date)&&t.isDate(v.date)&&P.date.getYear()!=v.date.getYear()&&this._xlbls.push({value:y,text:t.Globalize.formatNumber(P.date.getFullYear()%100,"d2")})}}}}0==this._xlbls.length&&this._xlbls.push({value:0});var k=this.chart.axisY;this.axisYMajorGrid=k.majorGrid;k._chart=null;k.majorGrid=!1;k._chart=this.chart;this.chart.axisX.itemsSource=this._xlbls;return n};_PointAndFigurePlotter.prototype.plotSeries=function(t,e,i,a,n,r,s){if(this._pfdata&&this._pfdata.length>0){var o=this._actualBoxSize;this.renderGrid(t,this._pfdata,o);this.renderData(this.chart,t,this._pfdata,o)}var l=this.chart.axisY;l._chart=null;l.majorGrid=this.axisYMajorGrid;l._chart=this.chart};_PointAndFigurePlotter.prototype.calcBoxSize=function(t,a,n){var r=t.reduce((function(t,e){return Math.max(t,e[a])}),t[0][a]),s=t.reduce((function(t,e){return Math.min(t,e[n])}),t[0][n]),o=this._boxSize,l=r-s;switch(this._scaling){case i.Traditional:l<.25?o=.0625:l>=.25&&l<1?o=.125:l>=1&&l<5?o=.25:l>=5&&l<20?o=.5:l>=20&&l<100?o=1:l>=100&&l<200?o=2:l>=200&&l<500?o=4:l>=500&&l<1e3?o=5:l>=1e3&&l<25e3?o=50:l>-25e3&&(o=500);break;case i.Dynamic:var h=this.chart.series[0],c=h._getBindingValues(0),u=h._getBindingValues(1),_=(h._getBindingValues(2),h._getBindingValues(3)),g=e._avgTrueRng(c,u,_,this._period);o=g[g.length-1];break;case i.Fixed:}return o};_PointAndFigurePlotter.prototype.calcPFHiLo2=function(e,i,a,n,r,s){for(var o=[],l=0;l<e.length;l++){var h=e[l][i],c=e[l][a];t.assert(h>=c,"'High' value must be larger than 'low' value.");var u=e[l][n];if(0==o.length)o.push({min:this.roundDown(c,r),max:this.roundDown(h,r),rise:!1,date:u});else{var _=o[o.length-1];if(_.rise){var g=_.max+r,p=_.max-s*r;this.roundUp(h,r)>=g?_.max=this.roundUp(h,r):c<=p&&o.push({min:this.roundDown(c,r),max:_.max-r,rise:!1,date:u})}else{g=_.min-r,p=_.min+s*r;this.roundDown(c,r)<=g?_.min=this.roundDown(c,r):h>=p&&o.push({min:_.min+r,max:this.roundUp(h,r),rise:!0,date:u})}}}if(o.length>0){var f=o[0];f.min==f.max&&o.splice(0,1)}return o};_PointAndFigurePlotter.prototype.roundUp=function(t,e){return Math.ceil(t/e-.999999)*e};_PointAndFigurePlotter.prototype.roundDown=function(t,e){return Math.floor(t/e+.999999)*e};_PointAndFigurePlotter.prototype.renderGrid=function(e,i,a){if(this._pfdata){for(var n=this._pfdata.reduce((function(t,e){return Math.max(t,e.max)}),this._pfdata[0].max),r=this._pfdata.reduce((function(t,e){return Math.min(t,e.min)}),this._pfdata[0].min),s=this.chart,o=this._pfdata.length,l=r-.5*a;l<=n+a;l+=a){var h=new t.Point(-.5,l);h=s.dataToPoint(h);var c=new t.Point(o,l);c=s.dataToPoint(c);e.stroke=t.chart.FlexChartCore._FG;e.strokeWidth=1;e.drawLine(h.x,h.y,c.x,c.y,t.chart.FlexChartCore._CSS_GRIDLINE)}for(var u=-.5;u<=o;u+=1){h=new t.Point(u,this.chart.axisY.actualMin);h=s.dataToPoint(h);c=new t.Point(u,this.chart.axisY.actualMax);c=s.dataToPoint(c);e.stroke=t.chart.FlexChartCore._FG;e.strokeWidth=1;e.drawLine(h.x,h.y,c.x,c.y,t.chart.FlexChartCore._CSS_GRIDLINE)}}};_PointAndFigurePlotter.prototype.renderData=function(e,i,a,n){for(var r=e.series[0],s=r._getSymbolStroke(0),o=r._getAltSymbolStroke(0)||s,l=0;l<a.length;l++){var h=a[l],c=(a[l].max-a[l].min)/n;if(0!=c){var u=new t.Point(l-.5,h.min);u=e.dataToPoint(u);var _=new t.Point(l+.5,h.max);_=e.dataToPoint(_);i.fill="transparent";for(var g=(_.y-u.y)/c,p=0;p<c+1;p++){i.strokeWidth=1.5;if(h.rise){i.stroke=s;i.drawLine(u.x,u.y+(p-.5)*g,_.x,u.y+(p+.5)*g);i.drawLine(_.x,u.y+(p-.5)*g,u.x,u.y+(p+.5)*g)}else{i.stroke=o;i.drawEllipse(.5*(u.x+_.x),u.y+p*g,.5*Math.abs(u.x-_.x),.5*Math.abs(g))}if(this.hitTester){var f=h.min+p*n,d=new t.chart._DataPoint(0,l,h.date,f);d.y=f;d.yfmt=this.chart.axisY._formatValue(f);if(t.isDate(h.date)){d.x=h.date;d.xfmt=t.Globalize.formatDate(h.date,"d")}var m=new t.Rect(Math.min(u.x,_.x),u.y+p*g-.5*g,Math.abs(_.x-u.x),g);if(m.height<0){m.top+=g;m.height=-m.height}var y=new t.chart._RectArea(m);y.tag=d;this.hitTester.add(y,0)}}}}};return _PointAndFigurePlotter}(t.chart._BasePlotter);e._PointAndFigurePlotter=a})((e=t.chart||(t.chart={})).finance||(e.finance={}))}(wijmo||(wijmo={}));!function(t){!function(e){!function(e){"use strict";var i=function(i){__extends(_KagiPlotter,i);function _KagiPlotter(){return i.call(this)||this}_KagiPlotter.prototype._calculate=function(i){this._init();var a=i._getBindingValues(0),n=i._getBindingValues(1),r=i._getBindingValues(2),s=i._getBindingValues(3),o=i.getValues(1)||this.chart._xvals;this._calculator=new e._KagiCalculator(a,n,r,s,o,this._reversalAmount,this._rangeMode,this._fields);this._rangeValues=this._calculator.calculate();(null===this._rangeValues||t.isUndefined(this._rangeValues))&&(this._rangeValues=[]);this._generateXLabels(i)};_KagiPlotter.prototype.plotSeries=function(e,i,a,n,r,s,o){this._calculate(n);var l=this.chart.series.indexOf(n),h=this._rangeValues.length,c=i.actualMin,u=i.actualMax,_=this._DEFAULT_WIDTH,g=n._getSymbolStroke(l),p=n._getAltSymbolStroke(l)||g,f=[],d=[];e.stroke=g;e.strokeWidth=_;var m,y,v,P,k,x,C,w=0;e.startGroup();for(var b=0;b<h;b++){m=b;if(t.chart._DataInfo.isValid(m)&&c<=m&&m<=u){y=this._rangeValues[b].open;v=this._rangeValues[b].close;if(0===b){P=Math.min(y,v);k=Math.max(y,v);e.strokeWidth=y>v?_:2*_;e.stroke=y>v?g:p;e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(v));e.drawLine(i.convert(m-1)-e.strokeWidth/2,a.convert(y),i.convert(m)+e.strokeWidth/2,a.convert(y))}else if(e.strokeWidth===_)if(v>y){if(v>k){e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(k));e.strokeWidth=2*_;e.stroke=p;e.drawLine(i.convert(m),a.convert(k),i.convert(m),a.convert(v));P=y}else e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(v));k=v}else e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(v));else if(e.strokeWidth/2===_)if(v<y){if(v<P){e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(P));e.strokeWidth=_;e.stroke=g;e.drawLine(i.convert(m),a.convert(P),i.convert(m),a.convert(v));k=y}else e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(v));P=v}else e.drawLine(i.convert(m),a.convert(y),i.convert(m),a.convert(v));b<h-1&&e.drawLine(i.convert(m)-e.strokeWidth/2,a.convert(v),i.convert(m+1)+e.strokeWidth/2,a.convert(v));C=this._getDataPoint(l,b,n,v);(x=new t.chart._CircleArea(new t.Point(i.convert(m),a.convert(v)),.5*e.strokeWidth)).tag=C;this.hitTester.add(x,l);n._setPointIndex(b,w);w++;f.push(i.convert(m));d.push(a.convert(y));f.push(i.convert(m));d.push(a.convert(v))}}e.endGroup();this.hitTester.add(new t.chart._LinesArea(f,d),l)};_KagiPlotter.prototype._init=function(){i.prototype._init.call(this);this._reversalAmount=this.getNumOption("reversalAmount","kagi")||14;this._rangeMode=this.getOption("rangeMode","kagi")||e.RangeMode.Fixed;this._rangeMode=t.asEnum(this._rangeMode,e.RangeMode,!0);this._fields=this.getOption("fields","kagi")||e.DataFields.Close;this._fields=t.asEnum(this._fields,e.DataFields,!0)};_KagiPlotter.prototype.clear=function(){i.prototype.clear.call(this);this._reversalAmount=null;this._rangeMode=null};return _KagiPlotter}(e._BaseRangePlotter);e._KagiPlotter=i}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){!function(e){"use strict";var i=function(i){__extends(_RenkoPlotter,i);function _RenkoPlotter(){return i.call(this)||this}_RenkoPlotter.prototype.clear=function(){i.prototype.clear.call(this);this._boxSize=null;this._rangeMode=null};_RenkoPlotter.prototype._calculate=function(i){this._init();var a=i._getBindingValues(0),n=i._getBindingValues(1),r=i._getBindingValues(2),s=i._getBindingValues(3),o=i.getValues(1)||this.chart._xvals;this._calculator=new e._RenkoCalculator(a,n,r,s,o,this._boxSize,this._rangeMode,this._fields,this._rounding);this._rangeValues=this._calculator.calculate();(null===this._rangeValues||t.isUndefined(this._rangeValues))&&(this._rangeValues=[]);this._generateXLabels(i)};_RenkoPlotter.prototype._init=function(){i.prototype._init.call(this);this._boxSize=this.getNumOption("boxSize","renko")||14;this._rangeMode=this.getOption("rangeMode","renko")||e.RangeMode.Fixed;this._rangeMode=t.asEnum(this._rangeMode,e.RangeMode,!0);t.assert(this._rangeMode!==e.RangeMode.Percentage,"RangeMode.Percentage is not supported");this._fields=this.getOption("fields","renko")||e.DataFields.Close;this._fields=t.asEnum(this._fields,e.DataFields,!0);t.assert(this._fields!==e.DataFields.HighLow,"DataFields.HighLow is not supported");this._rounding=t.asBoolean(this.getOption("rounding","renko"),!0)};_RenkoPlotter.prototype._generateXLabels=function(t){var e=this;i.prototype._generateXLabels.call(this,t);this._rangeXLabels.forEach((function(t,i){i>0&&e._rangeXLabels[i-1]._text===t.text&&(t.text="")}),this)};return _RenkoPlotter}(e._BaseRangePlotter);e._RenkoPlotter=i}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){!function(e){"use strict";var i=function(i){__extends(_LineBreakPlotter,i);function _LineBreakPlotter(){return i.call(this)||this}_LineBreakPlotter.prototype.clear=function(){i.prototype.clear.call(this);this._newLineBreaks=null};_LineBreakPlotter.prototype._calculate=function(i){this._init();var a=i._getBindingValues(3),n=i.getValues(1)||this.chart._xvals;this._calculator=new e._LineBreakCalculator(null,null,null,a,n,this._newLineBreaks);this._rangeValues=this._calculator.calculate();(null===this._rangeValues||t.isUndefined(this._rangeValues))&&(this._rangeValues=[]);this._generateXLabels(i)};_LineBreakPlotter.prototype._init=function(){i.prototype._init.call(this);this._newLineBreaks=t.asInt(this.getNumOption("newLineBreaks","lineBreak"),!0,!0)||3;t.assert(this._newLineBreaks>=1,"Value must be greater than 1")};return _LineBreakPlotter}(e._BaseRangePlotter);e._LineBreakPlotter=i}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){!function(e){"use strict";var i=function(i){__extends(_HeikinAshiPlotter,i);function _HeikinAshiPlotter(){var t=i.call(this)||this;t._symFactor=.7;t.clear();return t}_HeikinAshiPlotter.prototype.clear=function(){i.prototype.clear.call(this);this._haValues=null;this._calculator=null};_HeikinAshiPlotter.prototype.plotSeries=function(e,i,a,n,r,s,o){var l=this;this._calculate(n);var h=t.asType(n,t.chart.SeriesBase),c=this.chart.series.indexOf(n),u=n.getValues(1),_=this._symFactor,g=this._haValues.length,p=!0;if(u){var f=this.dataInfo.getDeltaX();f>0&&(_*=f)}else u=this.dataInfo.getXVals();if(u)g=Math.min(g,u.length);else{p=!1;u=new Array(g)}var d=this._DEFAULT_WIDTH,m=h._getSymbolFill(c),y=h._getAltSymbolFill(c)||"transparent",v=h._getSymbolStroke(c),P=h._getAltSymbolStroke(c)||v,k=_,x=n.getDataType(1)||n.chart._xDataType;e.strokeWidth=d;for(var C,w,b,F,A,V,L,B,M=i.actualMin,T=i.actualMax,D=0,S=this.getItemFormatter(n),R=0;R<g;R++){b=p?u[R]:R;if(t.chart._DataInfo.isValid(b)&&M<=b&&b<=T){A=this._haValues[R].high;V=this._haValues[R].low;L=this._haValues[R].open;B=this._haValues[R].close;C=L<B?y:m;w=L<B?P:v;e.fill=C;e.stroke=w;e.startGroup();F=this._getDataPoint(c,R,b,n);if(S){var H=new t.chart.HitTestInfo(this.chart,new t.Point(i.convert(b),a.convert(A)),t.chart.ChartElement.SeriesSymbol);H._setData(h,R);H._setDataPoint(F);S(e,H,(function(){l._drawSymbol(e,i,a,c,R,C,k,b,A,V,L,B,F,x)}))}else this._drawSymbol(e,i,a,c,R,C,k,b,A,V,L,B,F,x);e.endGroup();n._setPointIndex(R,D);D++}}};_HeikinAshiPlotter.prototype._drawSymbol=function(e,i,a,n,r,s,o,l,h,c,u,_,g,p){var f,d=null,m=null,y=null,v=null,P=p===t.DataType.Date?432e5:.5;if((y=i.convert(l-P*o))>(v=i.convert(l+P*o))){var k=y;y=v;v=k}l=i.convert(l);if(t.chart._DataInfo.isValid(u)&&t.chart._DataInfo.isValid(_)){u=a.convert(u);_=a.convert(_);m=(d=Math.min(u,_))+Math.abs(u-_);e.drawRect(y,d,v-y,m-d);(f=new t.chart._RectArea(new t.Rect(y,d,v-y,m-d))).tag=g;this.hitTester.add(f,n)}if(t.chart._DataInfo.isValid(h)){h=a.convert(h);if(null!==d){e.drawLine(l,d,l,h);f.rect.top=h;f.rect.height=f.rect.height+h}}if(t.chart._DataInfo.isValid(c)){c=a.convert(c);if(null!==m){e.drawLine(l,m,l,c);f.rect.height=f.rect.height+c}}};_HeikinAshiPlotter.prototype._getDataPoint=function(e,i,a,n){var r=new t.chart._DataPoint(e,i,a,this._haValues[i].high),s=n._getItem(i),o=n._getBinding(0),l=n._getBinding(1),h=n._getBinding(2),c=n._getBinding(3),u=n._getAxisY();if(null!=s){r.item=t.chart._BasePlotter.cloneStyle(s,[]);r.item[o]=this._haValues[i].high;r.item[l]=this._haValues[i].low;r.item[h]=this._haValues[i].open;r.item[c]=this._haValues[i].close}r.y=this._haValues[i].high;r.yfmt=u._formatValue(this._haValues[i].high);return r};_HeikinAshiPlotter.prototype._calculate=function(i){var a=i._getBindingValues(0),n=i._getBindingValues(1),r=i._getBindingValues(2),s=i._getBindingValues(3);this._calculator=new e._HeikinAshiCalculator(a,n,r,s);this._haValues=this._calculator.calculate();(null===this._haValues||t.isUndefined(this._haValues))&&this._init()};_HeikinAshiPlotter.prototype._init=function(){this._haValues=[]};return _HeikinAshiPlotter}(t.chart._FinancePlotter);e._HeikinAshiPlotter=i}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){!function(e){"use strict";var i;!function(t){t[t.Column=0]="Column";t[t.Scatter=1]="Scatter";t[t.Line=2]="Line";t[t.LineSymbols=3]="LineSymbols";t[t.Area=4]="Area";t[t.Candlestick=5]="Candlestick";t[t.HighLowOpenClose=6]="HighLowOpenClose";t[t.HeikinAshi=7]="HeikinAshi";t[t.LineBreak=8]="LineBreak";t[t.Renko=9]="Renko";t[t.Kagi=10]="Kagi";t[t.ColumnVolume=11]="ColumnVolume";t[t.EquiVolume=12]="EquiVolume";t[t.CandleVolume=13]="CandleVolume";t[t.ArmsCandleVolume=14]="ArmsCandleVolume";t[t.PointAndFigure=15]="PointAndFigure"}(i=e.FinancialChartType||(e.FinancialChartType={}));var a=function(a){__extends(FinancialChart,a);function FinancialChart(t,e){var n=a.call(this,t,null)||this;n._chartType=i.Line;n.__heikinAshiPlotter=null;n.__lineBreakPlotter=null;n.__renkoPlotter=null;n.__kagiPlotter=null;n.__pfPlotter=null;n.initialize(e);return n}FinancialChart.prototype._getProductInfo=function(){return"A78U,FinancialChart"};Object.defineProperty(FinancialChart.prototype,"chartType",{get:function(){return this._chartType},set:function(e){if((e=t.asEnum(e,i))!=this._chartType){this._chartType=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FinancialChart.prototype,"options",{get:function(){return this._options},set:function(t){if(t!=this._options){this._options=t;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FinancialChart.prototype,"_heikinAshiPlotter",{get:function(){if(null===this.__heikinAshiPlotter){this.__heikinAshiPlotter=new e._HeikinAshiPlotter;this._initPlotter(this.__heikinAshiPlotter)}return this.__heikinAshiPlotter},enumerable:!0,configurable:!0});Object.defineProperty(FinancialChart.prototype,"_lineBreakPlotter",{get:function(){if(null===this.__lineBreakPlotter){this.__lineBreakPlotter=new e._LineBreakPlotter;this._initPlotter(this.__lineBreakPlotter)}return this.__lineBreakPlotter},enumerable:!0,configurable:!0});Object.defineProperty(FinancialChart.prototype,"_renkoPlotter",{get:function(){if(null===this.__renkoPlotter){this.__renkoPlotter=new e._RenkoPlotter;this._initPlotter(this.__renkoPlotter)}return this.__renkoPlotter},enumerable:!0,configurable:!0});Object.defineProperty(FinancialChart.prototype,"_kagiPlotter",{get:function(){if(null===this.__kagiPlotter){this.__kagiPlotter=new e._KagiPlotter;this._initPlotter(this.__kagiPlotter)}return this.__kagiPlotter},enumerable:!0,configurable:!0});Object.defineProperty(FinancialChart.prototype,"_pfPlotter",{get:function(){if(null===this.__pfPlotter){this.__pfPlotter=new e._PointAndFigurePlotter;this._initPlotter(this.__pfPlotter)}return this.__pfPlotter},enumerable:!0,configurable:!0});FinancialChart.prototype._getChartType=function(){var e=null;switch(this.chartType){case i.Area:e=t.chart.ChartType.Area;break;case i.Line:case i.Kagi:case i.PointAndFigure:e=t.chart.ChartType.Line;break;case i.Column:case i.ColumnVolume:e=t.chart.ChartType.Column;break;case i.LineSymbols:e=t.chart.ChartType.LineSymbols;break;case i.Scatter:e=t.chart.ChartType.Scatter;break;case i.Candlestick:case i.Renko:case i.HeikinAshi:case i.LineBreak:case i.EquiVolume:case i.CandleVolume:case i.ArmsCandleVolume:e=t.chart.ChartType.Candlestick;break;case i.HighLowOpenClose:e=t.chart.ChartType.HighLowOpenClose}return e};FinancialChart.prototype._getPlotter=function(e){var n=this.chartType,r=null;if(e){var s=e.chartType;if(s&&!t.isUndefined(s)&&s!=n){n=s;!0}}switch(n){case i.HeikinAshi:r=this._heikinAshiPlotter;break;case i.LineBreak:r=this._lineBreakPlotter;break;case i.Renko:r=this._renkoPlotter;break;case i.Kagi:r=this._kagiPlotter;break;case i.ColumnVolume:(r=a.prototype._getPlotter.call(this,e)).isVolume=!0;r.width=1;break;case i.EquiVolume:(r=a.prototype._getPlotter.call(this,e)).isEqui=!0;r.isCandle=!1;r.isArms=!1;r.isVolume=!0;r.symbolWidth="100%";break;case i.CandleVolume:(r=a.prototype._getPlotter.call(this,e)).isEqui=!1;r.isCandle=!0;r.isArms=!1;r.isVolume=!0;r.symbolWidth="100%";break;case i.ArmsCandleVolume:(r=a.prototype._getPlotter.call(this,e)).isEqui=!1;r.isCandle=!1;r.isArms=!0;r.isVolume=!0;r.symbolWidth="100%";break;case i.PointAndFigure:r=this._pfPlotter;break;default:r=a.prototype._getPlotter.call(this,e)}return r};FinancialChart.prototype._createSeries=function(){return new e.FinancialSeries};return FinancialChart}(t.chart.FlexChartCore);e.FinancialChart=a}(e.finance||(e.finance={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(e){e.finance||(e.finance={}),t._registerModule("wijmo.chart.finance",t.chart.finance)}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));